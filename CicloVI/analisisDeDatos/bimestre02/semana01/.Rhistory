df_op4 <- df %>%
mutate (Fare = log(Fare + 1))
sd(df_op4$Fare)
quantile(df_op4$Fare)
boxplot(df_op4SFare)
boxplot(df_op4$Fare)
# TRANSFORMACION
# SIN TRATAMIENTO
sd(df$Fare)
quantile(df$Fare)
boxplot(df$Fare)
sd(df_op3$Fare)
quantile(df_op3$Fare)
boxplot(df_op3$Fare)
sd(df_op4$Fare)
quantile(df_op4$Fare)
boxplot(df_op4$Fare)
# ELIMINACION
# SIN TRATAMIENTO
sd(df$Fare)
quantile(df$Fare)
boxplot(df$Fare)
# OPCIÓN 5: Eliminar atípicos
df_op5 <- df %>%
filter(dfSFare >= limite_inf & dfSFare <= limite_sup)
# OPCIÓN 5: Eliminar atípicos
df_op5 <- df %>%
filter(df$Fare >= limite_inf & df$Fare <= limite_sup)
sd(df_op5$Fare)
quantile(df_op5$Fare)
boxplot(df_op5$Fare)
getwd()
setwd("/Users/oliversaraguro/Desktop/CicloVI/analisisDeDatos/bimestre02/semana02")
########################################
# Identificacion de tipos de variables
########################################
df <- read.csv("countries_gdp_historical.csv")
colnames(df)
########################################
# Identificacion de tipos de variables
########################################
df <- read.csv("countries_gdp_historical.csv", sep= ";")
colnames(df)
str(df)
View(df)
########################################
# Identificacion de tipos de variables
########################################
df <- read.csv("countries_gdp_historical.csv", sep= ";", dec = ",")
View(df)
colnames(df)
str(df)
dim(df)
colnames(df)
head(df)
str(df)
summary(df)
class(df)
unique(df)
# Identificar los tipos variables
colnames(df)
str(df)
# Identificar los tipos variables
colnames(df)
str(df)
unique(df$country_code)
unique(df$country_code)
unique(df$region_name)
unique(df$sub_region_name)
unique(df$intermediate_region)
unique(df$intermediate_region)
unique(df$country_name)
unique(df$income_group)
unique(df$year)
unique(df$total_gdp)
unique(df$year)
# C
# Analizar valores faltantes. Detectar valores faltantes y a alguno de
# ellos que corresponda a variable numérica imputarle el valor promedio,
# de acuerdo grupo de ingresos al que pertenezca cada observación.
unique(df$income_group)
library(dplyr)
unique(df$sub_region_name)
unique(df$intermediate_region)
df1 = df %>%
mutate(total_gdp = case_when(
income_group == "Ingreso alto" ~ mean(total_gdp[income_group == "Ingreso alto"]),
income_group == "Países de ingreso bajo" ~ mean(total_gdp[income_group == "Países de ingreso bajo"]),
income_group == "Países de ingreso mediano bajo" ~ mean(total_gdp[income_group == "Países de ingreso mediano bajo"]),
income_group == "Ingreso mediano alto" ~ mean(total_gdp[income_group == "Ingreso mediano alto"]),
income_group == "No clasificado" ~ mean(total_gdp[income_group == "No clasificado"]),
TRUE ~ total_gdp
)
)
View(df1)
df1 = df %>%
mutate(total_gdp = case_when(
income_group == "Ingreso alto" ~ mean(total_gdp[income_group == "Ingreso alto"], na.rm = TRUE),
income_group == "Países de ingreso bajo" ~ mean(total_gdp[income_group == "Países de ingreso bajo"], na.rm = TRUE),
income_group == "Países de ingreso mediano bajo" ~ mean(total_gdp[income_group == "Países de ingreso mediano bajo"], na.rm = TRUE),
income_group == "Ingreso mediano alto" ~ mean(total_gdp[income_group == "Ingreso mediano alto"], na.rm = TRUE),
income_group == "No clasificado" ~ mean(total_gdp[income_group == "No clasificado"], na.rm = TRUE),
TRUE ~ total_gdp
)
)
# total_gdp_million
df1 = df %>%
mutate(total_gdp_million = case_when(
income_group == "Ingreso alto" ~ mean(total_gdp_million[income_group == "Ingreso alto"], na.rm = TRUE),
income_group == "Países de ingreso bajo" ~ mean(total_gdp_million[income_group == "Países de ingreso bajo"], na.rm = TRUE),
income_group == "Países de ingreso mediano bajo" ~ mean(total_gdp_million[income_group == "Países de ingreso mediano bajo"], na.rm = TRUE),
income_group == "Ingreso mediano alto" ~ mean(total_gdp_million[income_group == "Ingreso mediano alto"], na.rm = TRUE),
income_group == "No clasificado" ~ mean(total_gdp_million[income_group == "No clasificado"], na.rm = TRUE),
TRUE ~ total_gdp_million
)
)
# gdp_variation
df1 = df %>%
mutate(gdp_variation = case_when(
income_group == "Ingreso alto" ~ mean(gdp_variation[income_group == "Ingreso alto"], na.rm = TRUE),
income_group == "Países de ingreso bajo" ~ mean(gdp_variation[income_group == "Países de ingreso bajo"], na.rm = TRUE),
income_group == "Países de ingreso mediano bajo" ~ mean(gdp_variation[income_group == "Países de ingreso mediano bajo"], na.rm = TRUE),
income_group == "Ingreso mediano alto" ~ mean(gdp_variation[income_group == "Ingreso mediano alto"], na.rm = TRUE),
income_group == "No clasificado" ~ mean(gdp_variation[income_group == "No clasificado"], na.rm = TRUE),
TRUE ~ gdp_variation
)
)
df4
# region_name, sub_region_name, intermediate_region, income_group
# Converitr a factores
df$region_name = as.factor(df$region_name)
df$sub_region_name = as.factor(df$sub_region_name)
df$intermediate_region = as.factor(df$intermediate_region)
df$income_group = as.factor(df$income_group)
str(df)
unique(df$region_name)
unique(df$intermediate_region)
unique(df$income_group)
# TABLAS DE FRECUENCIA
table(df$region_name)
# TABLAS DE FRECUENCIA
table(df$region_name)
table(df$income_group)
# GRAFICO DE BARRAS
library(ggplot2)
prop.table(table(df$region_name)) # Evaluar cuantas observaciones se tiene por categoría
# GRAFICO DE BARRAS
library(ggplot2)
ggplot(df, aes(x = region_name)) +
geom_bar() +
labs(title = "Distribucion por clase de boleto",
x = "Clase de boleto",
y = "Frecuencia")
ggplot(df, aes(x = region_name)) +
geom_bar() +
labs(title = "Distribucion por nombre de regiones",
x = "Nombre de Region",
y = "Frecuencia")
prop.table(table(df$region_name)) # Evaluar cuantas observaciones se tiene por categoría
# TABLAS DE FRECUENCIA
table(df$region_name)
# TABLA DE CONTIGENCIA
table(df$region_name, df$income_group)
# Gráfico de mosaico
tabla_contingencia <- table(df$region_name, df$income_group)
mosaicplot(tabla_contingencia,
color = TRUE,
main = "Región vs Grupo de Ingreso",
xlab = "Región",
ylab = "Ingreso")
str(df)
# Gráfico de mosaico
tabla_contingencia <- table(df$region_name, df$income_group)
tabla_contingencia
# TABLA DE CONTIGENCIA
levels(df$income_group) <- c("Alto", "Bajo", "Medio-Bajo", "Medio-Alto", "NoClasificado")
table(df$region_name, df$income_group)
# Gráfico de mosaico
tabla_contingencia <- table(df$region_name, df$income_group)
mosaicplot(tabla_contingencia,
color = TRUE,
main = "Región vs Grupo de Ingreso",
xlab = "Región",
ylab = "Ingreso")
table(df$region_name, df$income_group)
# Gráfico de mosaico
tabla_contingencia <- table(df$region_name, df$income_group)
levels(df$income_group) <- c("Alto", "Bajo", "Medio-Bajo", "Medio-Alto", "NoClasificado")
mosaicplot(tabla_contingencia,
color = TRUE,
main = "Región vs Grupo de Ingreso",
xlab = "Región",
ylab = "Ingreso")
# Gráfico 1: Barras apiladas - Cantidad de países por región y grupo de ingreso
ggplot(df, aes(x = region_name, fill = income_group)) +
geom_bar() +
labs(
title = "Distribución de países por región y grupo de ingreso",
x = "Región",
y = "Cantidad",
fill = "Grupo de ingreso"
)
table(df$region_name, df$income_group)
table(df$region_name, df$income_group)
table(df$region_name, df$income_group)
# Gráfico 1: Barras apiladas - Cantidad de países por región y grupo de ingreso
ggplot(df, aes(x = region_name, fill = income_group)) +
geom_bar() +
labs(
title = "Distribución de países por región y grupo de ingreso",
x = "Región",
y = "Cantidad",
fill = "Grupo de ingreso"
)
library(dplyr)
getwd()
setwd("/Users/oliversaraguro/Desktop/CicloVI/analisisDeDatos/bimestre02/semana02")
# Inspeccionar el conjunto de datos y ajustar los tipos de datos
df <- read.csv("countries_gdp_historical.csv", sep= ";", dec = ",")
dim(df)
colnames(df)
head(df)
str(df)
summary(df)
class(df)
unique(df)
# Identificar los tipos variables
colnames(df)
str(df)
unique(df$country_code)
unique(df$region_name)
unique(df$sub_region_name)
unique(df$intermediate_region)
unique(df$country_name)
unique(df$income_group)
unique(df$year)
unique(df$total_gdp)
unique(df$total_gdp_million)
unique(df$gdp_variation)
# C
# Analizar valores faltantes. Detectar valores faltantes y a alguno de
# ellos que corresponda a variable numérica imputarle el valor promedio,
# de acuerdo grupo de ingresos al que pertenezca cada observación.
unique(df$income_group)
# total_gdp
df = df %>%
mutate(total_gdp = case_when(
income_group == "Ingreso alto" ~ mean(total_gdp[income_group == "Ingreso alto"], na.rm = TRUE),
income_group == "Países de ingreso bajo" ~ mean(total_gdp[income_group == "Países de ingreso bajo"], na.rm = TRUE),
income_group == "Países de ingreso mediano bajo" ~ mean(total_gdp[income_group == "Países de ingreso mediano bajo"], na.rm = TRUE),
income_group == "Ingreso mediano alto" ~ mean(total_gdp[income_group == "Ingreso mediano alto"], na.rm = TRUE),
income_group == "No clasificado" ~ mean(total_gdp[income_group == "No clasificado"], na.rm = TRUE),
TRUE ~ total_gdp
)
)
# total_gdp_million
df = df %>%
mutate(total_gdp_million = case_when(
income_group == "Ingreso alto" ~ mean(total_gdp_million[income_group == "Ingreso alto"], na.rm = TRUE),
income_group == "Países de ingreso bajo" ~ mean(total_gdp_million[income_group == "Países de ingreso bajo"], na.rm = TRUE),
income_group == "Países de ingreso mediano bajo" ~ mean(total_gdp_million[income_group == "Países de ingreso mediano bajo"], na.rm = TRUE),
income_group == "Ingreso mediano alto" ~ mean(total_gdp_million[income_group == "Ingreso mediano alto"], na.rm = TRUE),
income_group == "No clasificado" ~ mean(total_gdp_million[income_group == "No clasificado"], na.rm = TRUE),
TRUE ~ total_gdp_million
)
)
# gdp_variation
df = df %>%
mutate(gdp_variation = case_when(
income_group == "Ingreso alto" ~ mean(gdp_variation[income_group == "Ingreso alto"], na.rm = TRUE),
income_group == "Países de ingreso bajo" ~ mean(gdp_variation[income_group == "Países de ingreso bajo"], na.rm = TRUE),
income_group == "Países de ingreso mediano bajo" ~ mean(gdp_variation[income_group == "Países de ingreso mediano bajo"], na.rm = TRUE),
income_group == "Ingreso mediano alto" ~ mean(gdp_variation[income_group == "Ingreso mediano alto"], na.rm = TRUE),
income_group == "No clasificado" ~ mean(gdp_variation[income_group == "No clasificado"], na.rm = TRUE),
TRUE ~ gdp_variation
)
)
# region_name, sub_region_name, intermediate_region, income_group
# Converitr a factores
df$region_name = as.factor(df$region_name)
df$sub_region_name = as.factor(df$sub_region_name)
df$intermediate_region = as.factor(df$intermediate_region)
df$income_group = as.factor(df$income_group)
str(df)
# TABLAS DE FRECUENCIA
table(df$region_name)
prop.table(table(df$region_name)) # Evaluar cuantas observaciones se tiene por categoría
# GRAFICO DE BARRAS
library(ggplot2)
ggplot(df, aes(x = region_name)) +
geom_bar() +
labs(title = "Distribucion por nombre de regiones",
x = "Nombre de Region",
y = "Frecuencia")
table(df$region_name, df$income_group)
# Gráfico 1: Barras apiladas - Cantidad de países por región y grupo de ingreso
ggplot(df, aes(x = region_name, fill = income_group)) +
geom_bar() +
labs(
title = "Distribución de países por región y grupo de ingreso",
x = "Región",
y = "Cantidad",
fill = "Grupo de ingreso"
)
ggplot(df, aes(x = region_name)) +
geom_bar() +
labs(title = "Distribucion por nombre de regiones",
x = "Nombre de Region",
y = "Frecuencia")
table(df$region_name, df$income_group)
# Gráfico 1: Barras apiladas - Cantidad de países por región y grupo de ingreso
ggplot(df, aes(x = region_name, fill = income_group)) +
geom_bar() +
labs(
title = "Distribución de países por región y grupo de ingreso",
x = "Región",
y = "Cantidad",
fill = "Grupo de ingreso"
)
mean(df$total_gdp, na.rm = TRUE)       # Media
median(df$total_gdp, na.rm = TRUE)     # Mediana
sd(df$total_gdp, na.rm = TRUE)         # Desviación estándar
var(df$total_gdp, na.rm = TRUE)        # Varianza
max(df$total_gdp, na.rm = TRUE) - min(df$total_gdp, na.rm = TRUE)  # Rango
summary(df$total_gdp, na.rm = TRUE)    # Resumen estadístico
# Boxplot
boxplot(df$total_gdp,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Boxplot
boxplot(df$year,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Histograma
# Histograma de variación del PIB por año
ggplot(df, aes(x = year, y = gdp_variation)) +
geom_col(fill = "steelblue") +
labs(title = "Variación del PIB por Año",
x = "Año",
y = "Variación del PIB") +
theme_minimal()
# Gráfico de dispersión: variación del PIB por año
ggplot(df, aes(x = year, y = gdp_variation)) +
geom_point(color = "darkblue", size = 2, alpha = 0.6) +
labs(title = "Dispersión de la Variación del PIB por Año",
x = "Año",
y = "Variación del PIB") +
theme_minimal()
mean(df$total_gdp_million, na.rm = TRUE)       # Media
median(df$total_gdp_million, na.rm = TRUE)     # Mediana
sd(df$total_gdp_million, na.rm = TRUE)         # Desviación estándar
var(df$total_gdp_million, na.rm = TRUE)        # Varianza
max(df$total_gdp_million, na.rm = TRUE) - min(df$total_gdp, na.rm = TRUE)  # Rango
summary(df$total_gdp_million, na.rm = TRUE)    # Resumen estadístico
# Boxplot
boxplot(df$total_gdp_million,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Histograma
# Histograma de variación del PIB por año
ggplot(df, aes(x = total_gdp_million)) +
geom_histogram(binwidth = 50) +
labs(title = "Distribucion de el total de GDP en Millones",
x = "Año",
y = "Variación del GDP") +
theme_minimal()
# Histograma
# Histograma de variación del PIB por año
ggplot(df, aes(x = total_gdp_million)) +
geom_histogram(binwidth = 100) +
labs(title = "Distribucion de el total de GDP en Millones",
x = "Año",
y = "Variación del GDP") +
theme_minimal()
# Histograma
# Histograma de variación del PIB por año
ggplot(df, aes(x = year)) +
geom_histogram(binwidth = 100) +
labs(title = "Distribucion de el total de GDP en Millones",
x = "Año",
y = "Variación del GDP") +
theme_minimal()
# Histograma
# Histograma de variación del PIB por año
ggplot(df, aes(x = total_gdp)) +
geom_histogram(binwidth = 100) +
labs(title = "Distribucion de el total de GDP en Millones",
x = "Año",
y = "Variación del GDP") +
theme_minimal()
total_gdp
# Histograma
# Histograma de variación del PIB por año
ggplot(df, aes(x = total_gdp_million)) +
geom_histogram(binwidth = 100) +
labs(title = "Distribucion de el total de GDP en Millones",
x = "Año",
y = "Variación del GDP") +
theme_minimal()
# Histograma
# Histograma de variación del PIB por año
ggplot(df, aes(x = gdp_variation)) +
geom_histogram(binwidth = 100) +
labs(title = "Distribucion de el total de GDP en Millones",
x = "Año",
y = "Variación del GDP") +
theme_minimal()
# Boxplot
boxplot(df$total_gdp_million,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Boxplot
boxplot(df$total_gdp_million,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Gráfico de líneas: evolución de total_gdp_million por año en los 5 países con mayor PIB promedio
library(dplyr)
library(ggplot2)
# Seleccionar los 5 países con mayor PIB promedio
top_paises <- df %>%
group_by(country_name) %>%
summarise(prom_gdp = mean(total_gdp_million, na.rm = TRUE)) %>%
arrange(desc(prom_gdp)) %>%
slice_head(n = 5) %>%
pull(country_name)
# Filtrar el dataset
df_top <- df %>% filter(country_name %in% top_paises)
# Gráfico de líneas
ggplot(df_top, aes(x = year, y = total_gdp_million, color = country_name)) +
geom_line() +
labs(title = "Evolución del PIB (millones) en países con mayor promedio",
x = "Año",
y = "PIB en millones",
color = "País") +
theme_minimal()
# Gráfico de dispersión: total_gdp_million vs gdp_variation por región
ggplot(df, aes(x = total_gdp_million, y = gdp_variation, color = region_name)) +
geom_point(alpha = 0.6) +
labs(title = "Dispersión entre PIB en millones y variación del PIB",
x = "Total GDP (millones)",
y = "Variación del PIB",
color = "Región") +
theme_minimal()
# Boxplot
boxplot(df$total_gdp_million,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Boxplot
boxplot(df$year,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Boxplot de total_gdp
boxplot(df$total_gdp,
main = "Boxplot de total_gdp",
ylab = "Total GDP")
# Gráfico de líneas: evolución de total_gdp_million por año para todos los países
library(ggplot2)
ggplot(df, aes(x = year, y = total_gdp_million, color = country_name, group = country_name)) +
geom_line() +
labs(title = "Evolución del PIB (millones) por país",
x = "Año",
y = "PIB en millones")
# Gráfico de dispersión: total_gdp_million vs gdp_variation por región
ggplot(df, aes(x = total_gdp_million, y = gdp_variation, color = region_name)) +
geom_point(alpha = 0.6) +
labs(title = "Dispersión entre PIB en millones y variación del PIB",
x = "Total GDP (millones)",
y = "Variación del PIB",
color = "Región")
# Boxplot
boxplot(df$year,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Boxplot
boxplot(df$total_gdp_million,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Boxplot
boxplot(df$year,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
mean(df$year, na.rm = TRUE)       # Media
mean(df$year, na.rm = TRUE)       # Media
median(df$year, na.rm = TRUE)     # Mediana
sd(df$year, na.rm = TRUE)         # Desviación estándar
var(df$year, na.rm = TRUE)        # Varianza
max(df$year, na.rm = TRUE) - min(df$total_gdp, na.rm = TRUE)  # Rango
summary(df$year, na.rm = TRUE)    # Resumen estadístico
# Boxplot
boxplot(df$year,
main = "Boxplot de Edad",
ylab = "Edad de los pasajeros")
# Medidas de tendencia central y dispersión para year
mean(df$year, na.rm = TRUE)       # Media
median(df$year, na.rm = TRUE)     # Mediana
sd(df$year, na.rm = TRUE)         # Desviación estándar
var(df$year, na.rm = TRUE)        # Varianza
max(df$year, na.rm = TRUE) - min(df$year, na.rm = TRUE)  # Rango
summary(df$year)                  # Resumen estadístico
# Boxplot de year
boxplot(df$year,
main = "Boxplot del Año",
ylab = "Año")
# Seleccionar variables numéricas relevantes
df_num <- df %>% select(total_gdp, total_gdp_million, gdp_variation, year)
# Calcular matriz de correlación (omitimos NA)
cor_matrix <- cor(df_num, use = "complete.obs")
# Mostrar matriz en consola
print(cor_matrix)
# Visualización de la correlación
library(corrplot)
corrplot(cor_matrix, method = "circle")
